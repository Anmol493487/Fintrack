{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anmol\\\\Downloads\\\\budget-app-main\\\\budget-app-main\\\\src\\\\pages\\\\budget-page.js\",\n  _s = $RefreshSig$();\n//rrd imports\nimport { useLoaderData } from \"react-router-dom\";\n\n//helper imports\nimport { createExpense, deleteItemsInList, matchItems } from \"../helper\";\n\n//toastify library\nimport { toast } from \"react-toastify\";\n\n//component imports\nimport BudgetItem from \"../components/budget-item\";\nimport AddExpenseForm from \"../components/add-expense-form\";\nimport Table from \"../components/table\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BudgetPage() {\n  _s();\n  const {\n    budget,\n    expenses\n  } = useLoaderData();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grid-lg\",\n    style: {\n      \"--accent\": budget.color\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"h2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"accent\",\n        children: budget.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), \" \", \"Overview\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-lg\",\n      children: [/*#__PURE__*/_jsxDEV(BudgetItem, {\n        budget: budget,\n        showBudget: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AddExpenseForm, {\n        budgets: [budget]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), expenses && expenses.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"accent\",\n          children: budget.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 29\n        }, this), \" \", \"Expenses\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        showBudget: false,\n        expenses: expenses.sort((exp1, exp2) => exp2.createdAt - exp1.createdAt).slice(0, 8)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 9\n  }, this);\n}\n\n//loader function\n_s(BudgetPage, \"SFX8HBpWBrT0DHEMzD1UU1FDdiE=\", false, function () {\n  return [useLoaderData];\n});\n_c = BudgetPage;\nexport const budgetPageLoader = ({\n  params\n}) => {\n  const budget = matchItems({\n    category: \"budgets\",\n    key: \"id\",\n    value: params.id\n  })[0];\n  const expenses = matchItems({\n    category: \"expenses\",\n    key: \"budgetId\",\n    value: params.id\n  });\n  if (!budget) {\n    throw new Error(\"The Budget you're trying to find doesn't exist\");\n  }\n  return {\n    budget,\n    expenses\n  };\n};\n\n//action function \nexport const budgetPageAction = async ({\n  request\n}) => {\n  const data = await request.formData();\n  const {\n    _action,\n    ...values\n  } = Object.fromEntries(data);\n  if (_action === \"addExpense\") {\n    try {\n      createExpense(values);\n      return toast.success(`Expense ${values.newExpense} created successfully`);\n    } catch (e) {\n      throw new Error(\"There was some problem while adding New Expense to the Budget\");\n    }\n  } else if (_action === \"deleteExpense\") {\n    try {\n      deleteItemsInList({\n        category: \"expenses\",\n        key: \"id\",\n        value: values.expenseId\n      });\n      return toast.success('Expense deleted succesfully');\n    } catch (e) {\n      throw new Error(\"There was some problem while deleting Expense to the Budget\");\n    }\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"BudgetPage\");","map":{"version":3,"names":["useLoaderData","createExpense","deleteItemsInList","matchItems","toast","BudgetItem","AddExpenseForm","Table","jsxDEV","_jsxDEV","BudgetPage","_s","budget","expenses","className","style","color","children","name","fileName","_jsxFileName","lineNumber","columnNumber","showBudget","budgets","length","sort","exp1","exp2","createdAt","slice","_c","budgetPageLoader","params","category","key","value","id","Error","budgetPageAction","request","data","formData","_action","values","Object","fromEntries","success","newExpense","e","expenseId","$RefreshReg$"],"sources":["C:/Users/anmol/Downloads/budget-app-main/budget-app-main/src/pages/budget-page.js"],"sourcesContent":["//rrd imports\nimport { useLoaderData } from \"react-router-dom\";\n\n//helper imports\nimport { createExpense, deleteItemsInList, matchItems } from \"../helper\"\n\n//toastify library\nimport { toast } from \"react-toastify\";\n\n//component imports\nimport BudgetItem from \"../components/budget-item\";\nimport AddExpenseForm from \"../components/add-expense-form\";\nimport Table from \"../components/table\";\n\nexport default function BudgetPage() {\n    const {budget,expenses} = useLoaderData();\n\n    return (\n        <div className=\"grid-lg\" style={{\"--accent\":budget.color}}>\n            <h1 className=\"h2\">\n                <span className=\"accent\">{budget.name}</span> \n                {\" \"}Overview\n            </h1>\n            <div className=\"flex-lg\">\n                <BudgetItem budget={budget} showBudget={false} />\n                <AddExpenseForm budgets={[budget]} />\n            </div>\n            {\n                (expenses && expenses.length > 0 && \n                    <div className=\"grid-md\">\n                        <h2><span className=\"accent\">{budget.name}</span>{\" \"}Expenses</h2>\n                        <Table showBudget={false} expenses={expenses.sort((exp1,exp2)=>exp2.createdAt-exp1.createdAt).slice(0,8)} />\n                    </div>\n                )\n            }\n\n        </div>\n    )\n\n}\n\n//loader function\nexport const budgetPageLoader = ({params})=>{\n    const budget = matchItems({category:\"budgets\",key:\"id\",value:params.id})[0];\n    const expenses = matchItems({category:\"expenses\",key:\"budgetId\",value:params.id});\n    if(!budget){\n        throw new Error(\"The Budget you're trying to find doesn't exist\")\n    }\n    return {budget,expenses};\n}\n\n//action function \nexport const budgetPageAction = async({request})=>{\n\n    const data = await request.formData();\n    const {_action,...values} = Object.fromEntries(data);\n\n    if(_action === \"addExpense\"){\n        try{\n            createExpense(values);\n            return toast.success(`Expense ${values.newExpense} created successfully`);\n        }catch(e){\n            throw new Error(\"There was some problem while adding New Expense to the Budget\");\n        }\n    }\n    else if(_action === \"deleteExpense\"){\n        try{\n            deleteItemsInList({category:\"expenses\",key:\"id\",value:values.expenseId});\n            return toast.success('Expense deleted succesfully');\n        }catch(e){\n            throw new Error(\"There was some problem while deleting Expense to the Budget\");\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}